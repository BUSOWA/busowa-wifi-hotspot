exports.id=46,exports.ids=[46],exports.modules={1600:(e,t,s)=>{Promise.resolve().then(s.bind(s,5310)),Promise.resolve().then(s.bind(s,3183)),Promise.resolve().then(s.bind(s,5771))},1990:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},6419:()=>{},5310:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var n=s(326);function a({pkg:e}){let t=e=>{window.dispatchEvent(new CustomEvent("open-payment",{detail:e}))};return(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"font-bold text-gray-800",children:e.title}),e.unlimited&&n.jsx("span",{className:"text-xs text-green-600",children:"UNLIMITED"}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:[e.hours," Hours"]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsxs)("p",{className:"text-lg font-bold text-green-700",children:["UGX ",e.price]}),n.jsx("button",{onClick:()=>t(e),className:"mt-2 px-6 py-2 bg-green-600 text-white rounded-full text-sm font-medium hover:bg-green-700",children:"BUY"})]})]})}},3183:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var n=s(326),a=s(7577),r=s(6226);let l=()=>{document.getElementById("payment-modal")?.close()};function i(){let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)("mtn"),[u,h]=(0,a.useState)(""),[x,p]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),g=async()=>{if(!e||!s)return;c(!0),p(!1),h("");let t=`/api/${d}/initiate`,n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e,amount:s.price,packageId:s.id})}),a=await n.json();a.success?(h(a.transactionId),p(!0),j(!0)):alert("Payment failed: "+(a.error||"Try again")),c(!1)};return n.jsx("dialog",{id:"payment-modal",className:"modal",children:(0,n.jsxs)("div",{className:"modal-box",children:[n.jsx("h3",{className:"font-bold text-lg",children:"Confirm Payment"}),s&&(0,n.jsxs)("p",{className:"py-2",children:[s.title," – ",(0,n.jsxs)("strong",{children:["UGX ",s.price.toLocaleString()]})]}),(0,n.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,n.jsxs)("button",{onClick:()=>m("airtel"),className:`flex-1 btn ${"airtel"===d?"btn-success":"btn-outline"}`,children:[n.jsx(r.default,{src:"/airtel.png",alt:"Airtel",width:20,height:20,className:"mr-1"}),"Airtel"]}),(0,n.jsxs)("button",{onClick:()=>m("mtn"),className:`flex-1 btn ${"mtn"===d?"btn-success":"btn-outline"}`,children:[n.jsx(r.default,{src:"/mtn.png",alt:"MTN",width:20,height:20,className:"mr-1"}),"MTN"]})]}),x&&u?(0,n.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,n.jsxs)("div",{className:`alert ${b?"alert-warning":"alert-info"}`,children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current shrink-0 w-6 h-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-sm",children:b?"Waiting for payment confirmation... Your credentials will be filled automatically once confirmed.":"Check your phone and approve the payment!"})]}),(0,n.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,n.jsxs)("p",{className:"text-xs text-gray-600 mb-2",children:[n.jsx("strong",{children:"Save this Transaction ID"})," to retrieve your voucher later:"]}),n.jsx("div",{className:"bg-white rounded p-3 border border-blue-300",children:n.jsx("p",{className:"font-mono text-sm font-bold text-blue-700 break-all",children:u})}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'Your voucher will be sent via SMS/WhatsApp once payment is confirmed. If you lose it, use this Transaction ID in "Find My Voucher".'})]}),n.jsx("div",{className:"modal-action mt-4",children:n.jsx("button",{className:"btn btn-success w-full",onClick:()=>{l(),p(!1),h("")},children:"Close"})})]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx("input",{type:"tel",placeholder:"Enter Mobile Money number (e.g. 07xx)",className:"input input-bordered w-full mt-4",value:e,onChange:e=>t(e.target.value)}),(0,n.jsxs)("div",{className:"modal-action",children:[n.jsx("button",{className:"btn",onClick:l,children:"Cancel"}),n.jsx("button",{className:"btn btn-success",onClick:g,disabled:o||!e,children:o?"Processing...":"Pay Now"})]})]})]})})}},5771:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});var n=s(326),a=s(7577);function r(){let[e,t]=(0,a.useState)(""),[s,r]=(0,a.useState)(""),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[d,m]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[x,p]=(0,a.useState)(""),b=async()=>{if(!e||!s)return alert("Please enter both username and password");let t=await fetch("/api/vouchers/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})});alert((await t.json()).valid?"Connected!":"Invalid username or password")},j=async()=>{if(!o.trim()){p("Please enter your transaction ID");return}m(!0),p(""),h(null);try{let e=await fetch("/api/vouchers/find",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transactionId:o.trim()})}),s=await e.json();s.success?(h(s),s.username&&t(s.username),r(s.voucher),setTimeout(()=>{i(!1)},3e3)):p(s.error||"Transaction not found")}catch(e){p("Failed to retrieve voucher. Please try again.")}finally{m(!1)}},g=()=>{i(!1),c(""),p(""),h(null)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 mb-8",children:[(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{className:"label justify-center",children:n.jsx("span",{className:"label-text",children:"Username"})}),n.jsx("input",{type:"text",placeholder:"Enter username",className:"input input-bordered w-full text-center",value:e,onChange:e=>t(e.target.value),onKeyPress:e=>"Enter"===e.key&&b()})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"label justify-center",children:n.jsx("span",{className:"label-text",children:"Password"})}),n.jsx("input",{type:"password",placeholder:"Enter password",className:"input input-bordered w-full text-center",value:s,onChange:e=>r(e.target.value),onKeyPress:e=>"Enter"===e.key&&b()})]}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{type:"button",onClick:b,className:"w-full px-6 py-3 bg-green-600 text-white rounded-lg text-base font-medium hover:bg-green-700 transition-colors cursor-pointer",style:{display:"block",width:"100%"},children:"Login"})})]}),n.jsx("button",{onClick:()=>i(!0),className:"link link-primary text-sm mt-3 block text-center w-full",children:"Already bought? Find My Voucher"})]}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full p-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Find My Voucher"}),n.jsx("button",{onClick:g,className:"btn btn-sm btn-circle btn-ghost",children:"✕"})]}),u?(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"alert alert-success",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:"Voucher found!"})]}),(0,n.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 space-y-3",children:[u.username&&(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Username:"}),n.jsx("p",{className:"text-xl font-bold text-green-700 font-mono",children:u.username})]}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Password / Voucher Code:"}),n.jsx("p",{className:"text-xl font-bold text-green-700 font-mono",children:u.voucher})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm pt-2 border-t border-green-200",children:[(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Provider:"}),n.jsx("p",{className:"font-semibold",children:u.provider})]}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Amount:"}),(0,n.jsxs)("p",{className:"font-semibold",children:["UGX ",u.amount]})]})]})]}),n.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Use these credentials to log in to the WiFi network."}),n.jsx("button",{onClick:g,className:"btn btn-success text-white w-full",children:"Close"})]}):(0,n.jsxs)(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter the transaction ID you received after payment to retrieve your voucher code."}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[n.jsx("label",{className:"label",children:n.jsx("span",{className:"label-text",children:"Transaction ID"})}),n.jsx("input",{type:"text",placeholder:"Enter transaction ID",className:"input input-bordered w-full",value:o,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&j()})]}),x&&n.jsx("div",{className:"alert alert-error",children:n.jsx("span",{className:"text-sm",children:x})}),(0,n.jsxs)("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:g,className:"btn btn-outline flex-1",children:"Cancel"}),n.jsx("button",{onClick:j,disabled:d,className:"btn btn-success text-white flex-1",children:d?"Searching...":"Find Voucher"})]})]})]})]})})]})}},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>l});var n=s(9510),a=s(7366),r=s.n(a);s(2136);let l={title:"BUSOWA WIFI HOTSPOT",description:"Fast, affordable internet in Busowa. Pay with Mobile Money.",manifest:"/manifest.json",icons:{icon:"/favicon.ico"}};function i({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:r().className,children:e})})}},1344:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>i});var n=s(8570);let a=(0,n.createProxy)(String.raw`C:\Users\DJ PROPERTY\Desktop\busowa-wifi-hotspot\components\PackageCard.tsx`),{__esModule:r,$$typeof:l}=a;a.default;let i=(0,n.createProxy)(String.raw`C:\Users\DJ PROPERTY\Desktop\busowa-wifi-hotspot\components\PackageCard.tsx#default`)},780:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>i});var n=s(8570);let a=(0,n.createProxy)(String.raw`C:\Users\DJ PROPERTY\Desktop\busowa-wifi-hotspot\components\PaymentModal.tsx`),{__esModule:r,$$typeof:l}=a;a.default;let i=(0,n.createProxy)(String.raw`C:\Users\DJ PROPERTY\Desktop\busowa-wifi-hotspot\components\PaymentModal.tsx#default`)},4043:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>i});var n=s(8570);let a=(0,n.createProxy)(String.raw`C:\Users\DJ PROPERTY\Desktop\busowa-wifi-hotspot\components\VoucherInput.tsx`),{__esModule:r,$$typeof:l}=a;a.default;let i=(0,n.createProxy)(String.raw`C:\Users\DJ PROPERTY\Desktop\busowa-wifi-hotspot\components\VoucherInput.tsx#default`)},9767:(e,t,s)=>{"use strict";s.d(t,{B:()=>n});let n=[{id:1,title:"8 HOURS",hours:8,price:500,unlimited:!1},{id:2,title:"24 HOURS",hours:24,price:900,unlimited:!0},{id:3,title:"2 DAYS",hours:48,price:1500,unlimited:!0}]},2136:()=>{}};